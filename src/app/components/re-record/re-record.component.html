<div class="row" *ngIf="!showBrowserWindow && currentAction">
  <div class="col-3">
    <button (click)="cancel.emit()" class="btn btn-sm btn-danger">
      Cancel <fa-icon icon="times"></fa-icon>
    </button>
    <button (click)="onSubmit()" class="btn btn-sm btn-success ml-1">
      Done <fa-icon icon="square"></fa-icon>
    </button>
    <h4 class="mt-2">{{sequence.name}}: Old</h4>
    <ul class="list-group list-group-flush">
      <li *ngFor="let action of sequence.actions; let i = index" class="list-group-item"
        [class.active]="action === currentAction">
        <h5 class="mb-1">{{i}}: {{action.constructor.name}}</h5>
      </li>
    </ul>
  </div>
  <div class="col-9">
    <div class="row mb-3">
      <div class="col-2">
        <button (click)="showBrowserWindow = true" class="btn btn-sm btn-block btn-primary">
          Do Step
        </button>
      </div>
      <div class="col-10">
        <span class="badge badge-dark mr-1">
          Action Type: {{currentAction.constructor.name}}
        </span>
        <span *ngIf="isGoTo(currentAction)" class="badge badge-dark mr-1">
          Url: {{asGoTo(currentAction).url}}
        </span>
        <span *ngIf="isRead(currentAction)" class="badge badge-dark mr-1">
          Read Value: {{asRead(currentAction).value}}
        </span>
        <span *ngIf="isType(currentAction)" class="badge badge-dark">
          Typed Value: {{asType(currentAction).value}}
        </span>
      </div>
    </div>
    <img *ngIf="currentAction" [src]="currentAction.image">
  </div>
</div>
<div class="row" [style.visibility]="showBrowserWindow || !currentAction ? 'visible' : 'hidden'">
  <div class="col-3">
    <button (click)="cancel.emit()" class="btn btn-sm btn-danger">
      Cancel <fa-icon icon="times"></fa-icon>
    </button>
    <button (click)="onSubmit()" class="btn btn-sm btn-success ml-1">
      Done <fa-icon icon="square"></fa-icon>
    </button>
    <h4 class="mt-2">{{newSequence.name}}: New</h4>
    <ul class="list-group list-group-flush">
      <li *ngFor="let action of newSequence.actions; let i = index" class="list-group-item">
        <h5 class="mb-1">{{i}}: {{action.constructor.name}}</h5>
      </li>
    </ul>
  </div>
  <div class="col-9">
    <div class="row mb-3">
      <div class="col-2">
        <button (click)="showBrowserWindow = false" class="btn btn-sm btn-block btn-primary"
          [class.disabled]="!currentAction">
          <fa-icon icon="eye"></fa-icon> View Step
        </button>
      </div>
    </div>
    <app-browser-window [recorderActive]="recorderActive" [settings]="settings" [sequence]="newSequence" (actionEmitter)="onNextAction()">
    </app-browser-window>
  </div>
</div>
