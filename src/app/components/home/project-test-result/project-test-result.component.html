<div *ngIf="projectTestResult" class="row">
  <div class="col">
    <div *ngIf="!currentSequenceTestResult" class="card border-primary mt-3">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <h4 class="card-title">
            {{projectTestResult.getDate() | date:'d MMMM yyyy @H:mm:ss'}}
          </h4>
          <div>
            <span *ngIf="projectTestResult.isReplayable()" class="badge badge-success">
              <fa-icon icon="check"></fa-icon> Successful
            </span>
            <span *ngIf="!projectTestResult.isReplayable()" class="badge badge-danger">
              <fa-icon icon="times"></fa-icon> Failed
            </span>
            <span class="badge badge-primary ml-1">SuccessfulLocators:
              ({{projectTestResult.getSuccessfulLocatorCount()}}/{{projectTestResult.getTotalLocatorCount()}})</span>
          </div>
          <div>
            <button (click)="close.emit()" class="btn btn-sm btn-danger">
              <fa-icon icon="times"></fa-icon>
            </button>
          </div>
        </div>
        <table class="table table-warning table-striped">
          <thead>
            <tr>
              <th scope="col">Sequence</th>
              <th scope="col">Date</th>
              <th scope="col">Status</th>
              <th scope="col">Options</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let sequenceTestResult of projectTestResult.getSequenceTestResults().slice().reverse()">
              <td>{{sequenceTestResult.getSequence().getName()}}</td>
              <td>{{sequenceTestResult.getDate() | date:'d MMMM yyyy @H:mm:ss'}}</td>
              <td>
                <span *ngIf="sequenceTestResult.isReplayable()" class="badge badge-success">
                  <fa-icon icon="check"></fa-icon> Successful
                </span>
                <span *ngIf="!sequenceTestResult.isReplayable()" class="badge badge-danger">
                  <fa-icon icon="times"></fa-icon> Failed
                </span>
              </td>
              <td><button (click)="currentSequenceTestResult = sequenceTestResult"
                  class="btn btn-sm btn-outline-secondary">
                  <fa-icon icon="eye"></fa-icon> Details
                </button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <app-sequence-test-result [sequenceTestResult]="currentSequenceTestResult"
      (close)="currentSequenceTestResult = null"></app-sequence-test-result>
  </div>
</div>
