<div class="row">
  <div class="col-3">
    <ul class="list-group list-group-flush">
      <li *ngFor="let projectTestResult of this.getTreeviewProjectTestResults()" class="list-group-item pr-0">
        <div (click)="projectTestResult.expanded = !projectTestResult.expanded" class="cursor-pointer">
          <fa-icon [icon]="getCaret(projectTestResult.expanded)"></fa-icon>&nbsp;
          <fa-icon icon="cubes"></fa-icon>
          {{projectTestResult.getDate()}}
        </div>
        <ul *ngIf="projectTestResult.expanded" class="list-group list-group-flush">
          <li *ngFor="let sequenceTestResult of projectTestResult.getSequenceTestResults()" class="list-group-item pr-0">
            <div (click)="sequenceTestResult.expanded = !sequenceTestResult.expanded" class="cursor-pointer">
              <fa-icon [icon]="getCaret(sequenceTestResult.expanded)"></fa-icon>&nbsp;
              <fa-icon icon="cube"></fa-icon> {{sequenceTestResult.getSequence().getName()}}
            </div>
            <ul *ngIf="sequenceTestResult.expanded" class="list-group list-group-flush">
              <li *ngFor="let browserTestResult of sequenceTestResult.getBrowserTestResults()" class="list-group-item pr-0">
                <div (click)="browserTestResult.expanded = !browserTestResult.expanded" class="cursor-pointer">
                  <fa-icon [icon]="getCaret(browserTestResult.expanded)"></fa-icon>&nbsp;
                  <fa-icon [icon]="getBrowserIcon(browserTestResult.getBrowser())"></fa-icon>
                  {{browserTestResult.getBrowser().getName()}}
                </div>
                <ul *ngIf="browserTestResult.expanded" class="list-group list-group-flush">
                  <li *ngFor="let actionTestResult of browserTestResult.getActionTestResults()" class="list-group-item pr-0">
                    <fa-icon icon="sticky-note"></fa-icon> {{actionTestResult.getAction().getClassName()}}
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="col-9">
    <table *ngIf="!currentProjectTestResult" class="table table-primary table-striped">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Status</th>
          <th scope="col">Options</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let projectTestResult of project.getTestResults().slice().reverse()">J
          <td>{{projectTestResult.getDate() | date:'d MMMM yyyy @H:mm:ss'}}</td>
          <td>
            <span *ngIf="projectTestResult.isReplayable()" class="badge badge-success">
              <fa-icon icon="check"></fa-icon> Successful
            </span>
            <span *ngIf="!projectTestResult.isReplayable()" class="badge badge-danger">
              <fa-icon icon="times"></fa-icon> Failed
            </span>
          </td>
          <td><button (click)="currentProjectTestResult = projectTestResult" class="btn btn-sm btn-outline-primary">
              <fa-icon icon="eye"></fa-icon> Details
            </button></td>
        </tr>
      </tbody>
    </table>
    <app-project-test-result [projectTestResult]="currentProjectTestResult" (close)="currentProjectTestResult = null">
    </app-project-test-result>
  </div>
</div>
